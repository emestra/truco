{"entries":[{"timestamp":1730472324557,"editorVersion":"7.0.51","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"http"],[-1,"s"],[0,"://"],[-1,"developers.google.com/blockly/xml\"><variables><variable id=\"er,$v?Oi/II#`dmJ9j4$\">mi_carta</variable><variable id=\"H7w~,2|8kaR|Kgo(s1}4\">mensaje</variable><variable id=\"omJy$TBxQcQiKm)[fgb`\">puntos</variable><variable id=\"tEaU7-el`EY-2-B}8LVc\">rondas</variable></variables><block type=\"pxt-on-start\" id=\"%f%Y`he`)v29%Jm`Cq4u\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\" id=\"Yj`@mU420Ef1^qpMpK?_\"><field name=\"VAR\" id=\"tEaU7-el`EY-2-B}8LVc\">rondas</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"]jgwqsb^Yfg4X5@t:/jn\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"radio_set_group\" id=\"TH:IrlA!+NAE96!eH$zW\"><value name=\"ID\"><shadow type=\"math_number_minmax\" id=\"sTJO:O]kTTpap*z1FyW#\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">7</field></shadow></value></block></next></block></statement></block><block type=\"device_button_event\" id=\"c9a9s}t}^*C?{30Z/YeV\" x=\"322\" y=\"0\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"function_call\" id=\"J5sO3|w115M)PM(I2xN{\"><mutation name=\"enviar_mensaje\" functionid=\"pcMj)09e5aEUD-z8QZmF\"><arg name=\"mensaje\" id=\"2dw3stvz0uyrfl4x76usf\" type=\"string\"></arg></mutation><value name=\"2dw3stvz0uyrfl4x76usf\"><shadow type=\"text\" id=\":skyklU.IZ?ao)e5;#Q{\"><field name=\"TEXT\">quiero</field></shadow></value></block></statement></block><block type=\"device_button_event\" id=\"~eXq(/34zrga1YZ{AUu1\" x=\"695\" y=\"0\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"function_call\" id=\"*oWlH_,/0ua-^XcOQl0C\"><mutation name=\"asignar_carta\" functionid=\"Q;PIC3w:O-#tFJ?WP~B.\"></mutation><next><block type=\"function_call\" id=\"mHk2hUBvik/B8mzDbuQ|\"><mutation name=\"enviar_mensaje\" functionid=\"pcMj)09e5aEUD-z8QZmF\"><arg name=\"mensaje\" id=\"2dw3stvz0uyrfl4x76usf\" type=\"string\"></arg></mutation><value name=\"2dw3stvz0uyrfl4x76usf\"><shadow type=\"text\" id=\"WCQRd~IGyNQq|Qn:gsP-\"><field name=\"TEXT\">truco</field></shadow></value></block></next></block></statement></block><block type=\"device_forever\" id=\"c*TUg2^lr!H?-C0K4#7g\" x=\"1059\" y=\"0\"><statement name=\"HANDLER\"><block type=\"device_print_message\" id=\")RiOL#/TW@2r,^4r):pD\"><value name=\"text\"><block type=\"text_join\" id=\"J2l3:*HlmfLbb[ybGZ*;\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"=Mm.Ypm#_Ik_+,Wf]wke\"><field name=\"TEXT\">Puntos: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\" id=\"6Xy|jwT`~THw(Z,[DZ#+\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\")pXto;cecC*D(D9,!cxo\"><field name=\"VAR\" id=\"omJy$TBxQcQiKm)[fgb`\">puntos</field></block></value></block></value><next><block type=\"device_pause\" id=\"tH]d|/oI_dB2`/388RZV\"><value name=\"pause\"><shadow type=\"timePicker\" id=\"]_$j,.IAw*P[!PWeg*Pw\"><field name=\"ms\">2000</field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" id=\"Ohc7RQU4|p?64_VtB8SX\" x=\"887\" y=\"196\"><mutation name=\"manejar_mensaje\" functionid=\"2!IRYnXMqh`10U(h_`-K\"><arg name=\"mensaje\" id=\"emb4zju6ongku7ycl9762\" type=\"string\"></arg></mutation><field name=\"function_name\">manejar_mensaje</field><value name=\"emb4zju6ongku7ycl9762\"><block type=\"argument_reporter_string\" id=\"8XXd~Pg#1?IH59F0#5(0\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">mensaje</field></block></value><statement name=\"STACK\"><block type=\"controls_if\" id=\"x$D#bz}Wl%`+yI}3L3)X\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\" id=\"0=o?NR+jGnK).@)3i)}(\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\" id=\")F1p@=IQ!o|j3h@+L`0W\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\" id=\"|*KObdjZ`f(l]NL-uxN(\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\" id=\"x(ai)bYZK6d#,--.P4#]\"><field name=\"VALUE\">mensaje</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"G]R)e(].MT8L);)B!oeB\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"izywNJe[JPfc0Sh=l}Dx\"><field name=\"TEXT\">truco</field></block></value></block></value><statement name=\"DO0\"><block type=\"device_print_message\" id=\"Ynb3PC_|1z25:`:3nk~y\"><value name=\"text\"><shadow type=\"text\" id=\"w15ZNysa:%E2Y];KK^is\"><field name=\"TEXT\">T</field></shadow></value><next><block type=\"device_pause\" id=\"jOxD3Ar*eB?UF(bCMpP~\"><value name=\"pause\"><shadow type=\"timePicker\" id=\"T!!:m2jGlDdSz3Ta3]}$\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"controls_if\" id=\"dh9bDy|AH*3B@m_2s`Hl\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\" id=\"6!Az_u*dHIQ2NCt`=4Jc\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\" id=\"OPZ~VY-vn9swAs(~fvM#\"><field name=\"NAME\">Button.A</field></block></value><statement name=\"DO0\"><block type=\"function_call\" id=\"a/WX~`s~}s];3@?EeC+{\"><mutation name=\"enviar_mensaje\" functionid=\"pcMj)09e5aEUD-z8QZmF\"><arg name=\"mensaje\" id=\"2dw3stvz0uyrfl4x76usf\" type=\"string\"></arg></mutation><value name=\"2dw3stvz0uyrfl4x76usf\"><shadow type=\"text\" id=\"rj++az9T|A*H#(v^?fQF\"><field name=\"TEXT\">aceptar</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"function_call\" id=\"6,lzy,31n):(/~_p`2Aw\"><mutation name=\"enviar_mensaje\" functionid=\"pcMj)09e5aEUD-z8QZmF\"><arg name=\"mensaje\" id=\"2dw3stvz0uyrfl4x76usf\" type=\"string\"></arg></mutation><value name=\"2dw3stvz0uyrfl4x76usf\"><shadow type=\"text\" id=\"0ac5d+Ag!,IOOWn=l_I-\"><field name=\"TEXT\">rechazar</field></shadow></value></block></statement></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\" id=\"WB}P8mW8vB!GiFnX^KI4\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\" id=\"%l;}$+5-mzSv2%hyf`RI\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\" id=\"b/)7fEW]WoMm+s{Nzz,3\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\" id=\"ZPrF!_{`@r6Dl2ZA.9+A\"><field name=\"VALUE\">mensaje</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"@JTz*bY+r/a|OMJTon-J\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"e:wLdnJ!tv}/I*{zwlxM\"><field name=\"TEXT\">quiero</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\" id=\"ZxmJuZe%@%n01{~?-_~8\"><value name=\"text\"><shadow type=\"text\" id=\"6n,h-LxaoIIH4Q82QZ1V\"><field name=\"TEXT\">Q</field></shadow></value><next><block type=\"device_pause\" id=\"j!Xi4#`0+~eyS.Ig0Eac\"><value name=\"pause\"><shadow type=\"timePicker\" id=\"=Kn.7|MtvwNNZtLYl)!c\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"controls_if\" id=\"5%S$^{d*j8iBymSHU;Q-\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\" id=\"Sr^#cr?%;Q~e/=;39Ro_\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\" id=\"m/gPDk4yN!._%5hun.-Q\"><field name=\"NAME\">Button.A</field></block></value><statement name=\"DO0\"><block type=\"variables_change\" id=\"2sL]g?lNu)!k3GSkAuqH\"><field name=\"VAR\" id=\"omJy$TBxQcQiKm)[fgb`\">puntos</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"J(n$mLr;_LsyIG[TF03n\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"function_call\" id=\"6f25wY6g6nost-Wux!?#\"><mutation name=\"enviar_mensaje\" functionid=\"pcMj)09e5aEUD-z8QZmF\"><arg name=\"mensaje\" id=\"2dw3stvz0uyrfl4x76usf\" type=\"string\"></arg></mutation><value name=\"2dw3stvz0uyrfl4x76usf\"><shadow type=\"text\" id=\"0rRu{WEL*Lk2H$r+8C.N\"><field name=\"TEXT\">aceptado</field></shadow></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"function_call\" id=\"o@E[+U;JGhiE5ln63?zW\"><mutation name=\"enviar_mensaje\" functionid=\"pcMj)09e5aEUD-z8QZmF\"><arg name=\"mensaje\" id=\"2dw3stvz0uyrfl4x76usf\" type=\"string\"></arg></mutation><value name=\"2dw3stvz0uyrfl4x76usf\"><shadow type=\"text\" id=\"DHK-@t_n#z!|}0_O}7c|\"><field name=\"TEXT\">rechazado</field></shadow></value></block></statement></block></next></block></next></block></statement></block></statement></block><block type=\"radio_on_string_drag\" id=\"s[sb0pe2TwC8g8S^tREy\" x=\"54\" y=\"282\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\" id=\"JqQxK^BxbKB=#qpeICd^\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">mensaje</field></block></value><statement name=\"HANDLER\"><block type=\"function_call\" id=\"DqS@Xpm}KEP^B]?6zA+M\"><mutation name=\"manejar_mensaje\" functionid=\"2!IRYnXMqh`10U(h_`-K\"><arg name=\"mensaje\" id=\"emb4zju6ongku7ycl9762\" type=\"string\"></arg></mutation><value name=\"emb4zju6ongku7ycl9762\"><shadow type=\"text\" id=\"h17,2:rQk!sZ;zs#aT4F\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\" id=\"]SN,/?d68.(l4v#J=^Z@\"><field name=\"VAR\" id=\"H7w~,2|8kaR|Kgo(s1}4\">mensaje</field></block></value></block></statement></block><block type=\"function_definition\" id=\"F5,3}4j6Eo_AcL=HI75/\" x=\"1370\" y=\"229\"><mutation name=\"asignar_carta\" functionid=\"Q;PIC3w:O-#tFJ?WP~B.\"></mutation><field name=\"function_name\">asignar_carta</field><statement name=\"STACK\"><block type=\"variables_set\" id=\"%HX}+G|Hq`joE|fXMBsu\"><field name=\"VAR\" id=\"er,$v?Oi/II#`dmJ9j4$\">mi_carta</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"|K8)t7H2pk3}v_l{#PeA\"><field name=\"NUM\">0</field></shadow><block type=\"device_random_deprecated\" id=\"YmO_*MIroifr=)T;xi80\"><value name=\"min\"><shadow type=\"math_number\" id=\"#R_UFD628pC!=7*0r#_e\"><field name=\"NUM\">1</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\" id=\"+f5HW4{_m/o@[1H@3IYw\"><field name=\"NUM\">10</field></shadow></value></block></value><next><block type=\"device_show_number\" id=\"qx.IqeTJE@YM]oDUS-aZ\"><value name=\"number\"><block type=\"variables_get\" id=\"5S}inRpg_iu)N2f`p[RA\"><field name=\"VAR\" id=\"er,$v?Oi/II#`dmJ9j4$\">mi_carta</field></block></value></block></next></block></statement></block><block type=\"function_definition\" id=\"{uR%T(.Y8!Q{=jJvv|DX\" x=\"266\" y=\"366\"><mutation name=\"enviar_mensaje\" functionid=\"pcMj)09e5aEUD-z8QZmF\"><arg name=\"mensaje\" id=\"2dw3stvz0uyrfl4x76usf\" type=\"string\"></arg></mutation><field name=\"function_name\">enviar_mensaje</field><value name=\"2dw3stvz0uyrfl4x76usf\"><block type=\"argument_reporter_string\" id=\"vQm!z7zMFmVn8~XX3kg#\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">mensaje</field></block></value><statement name=\"STACK\"><block type=\"radio_datagram_send_string\" id=\"}RRJpc2SK=dzuad6ndAo\"><value name=\"msg\"><block type=\"argument_reporter_string\" id=\"lYJ(,Df%[/M3N;_++|Py\"><field name=\"VALUE\">mensaje</field></block></value></block></statement></block>"],[1,"www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n"],[0,"</xm"]],"start1":12,"start2":12,"length1":10466,"length2":113}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"input.onButtonPressed(Button.A, function () {\n    enviar_mensaje(\"quiero\")\n})\nfunction enviar_mensaje (mensaje: string) {\n    radio.sendString(mensaje)\n}\nradio.onReceivedString(function (mensaje) {\n    manejar_mensaje(mensaje)\n})\nfunction manejar_mensaje (mensaje: string) {\n    if (mensaje == \"truco\") {\n        basic.showString(\"T\")\n        basic.pause(1000)\n        if (input.buttonIsPressed(Button.A)) {\n            enviar_mensaje(\"aceptar\")\n        } else {\n            enviar_mensaje(\"rechazar\")\n        }\n    } else if (mensaje == \"quiero\") {\n        basic.showString(\"Q\")\n        basic.pause(1000)\n        if (input.buttonIsPressed(Button.A)) {\n            puntos += 1\n            enviar_mensaje(\"aceptado\")\n        } else {\n            enviar_mensaje(\"rechazado\")\n        }\n    }\n}\ninput.onButtonPressed(Button.B, function () {\n    asignar_carta()\n    enviar_mensaje(\"truco\")\n})\nfunction asignar_carta () {\n    mi_carta = Math.randomRange(1, 10)\n    basic.showNumber(mi_carta)\n}\nlet mi_carta = 0\nlet puntos = 0\nlet rondas = 0\nradio.setGroup(7)\nbasic.forever(function () {\n    basic.showString(\"Puntos: \" + puntos)\n    basic.pause(2000)\n})"],[0,"\n"]],"start1":0,"start2":0,"length1":1148,"length2":1}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,".md\""],[-1,",\n        \"main.py\"\n    ],\n    \"testFiles\": [\n        \"test.ts\"\n    ],\n    \"preferredEditor\": \"blocksprj\""],[1,"\n    ],\n    \"additionalFilePaths\": []"],[0,"\n}\n"]],"start1":216,"start2":216,"length1":112,"length2":44}]},{"type":"added","filename":"test.ts","value":"// aquí va el archivo \"tests\"; esto no se compilará cuando este paquete se utilice como una extensión.\n"},{"type":"added","filename":"main.py","value":"from microbit import *\nimport radio\nimport random\n\n# Configuración inicial de la radio\nradio.on()\nradio.config(channel=7)\n\n# Variables globales\npuntos = 0\nrondas = 0\nmi_carta = 0\n\ndef asignar_carta():\n    global mi_carta\n    mi_carta = random.randint(1, 10)  # Valores aleatorios del 1 al 10\n    display.show(str(mi_carta))\n\ndef enviar_mensaje(mensaje):\n    radio.send(mensaje)\n\ndef recibir_mensaje():\n    return radio.receive()\n\ndef manejar_mensaje(mensaje):\n    global puntos\n    if mensaje == \"truco\":\n        display.show(\"T\")\n        sleep(1000)\n        if button_a.is_pressed():\n            enviar_mensaje(\"aceptar\")\n        else:\n            enviar_mensaje(\"rechazar\")\n    elif mensaje == \"quiero\":\n        display.show(\"Q\")\n        sleep(1000)\n        if button_a.is_pressed():\n            puntos += 1\n            enviar_mensaje(\"aceptado\")\n        else:\n            enviar_mensaje(\"rechazado\")\n\ndef mostrar_puntos():\n    display.scroll(\"Puntos: \" + str(puntos))\n\n# Bucle principal\nwhile True:\n    if button_b.was_pressed():\n        asignar_carta()\n        enviar_mensaje(\"truco\")\n    \n    mensaje_recibido = recibir_mensaje()\n    if mensaje_recibido:\n        manejar_mensaje(mensaje_recibido)\n    \n    if button_a.was_pressed() and not mensaje_recibido:\n        enviar_mensaje(\"quiero\")\n    \n    mostrar_puntos()\n    sleep(2000)\n"}]}],"snapshots":[{"timestamp":1730472324556,"editorVersion":"7.0.51","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"truco\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}}],"shares":[],"lastSaveTime":1730472627051}